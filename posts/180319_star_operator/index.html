<!DOCTYPE html>
<html>

<head>
    
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="chrome=1">
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="referrer" content="no-referrer">

<title>
关于*和**运算符 - DRAPORLAND
</title>











<link rel="stylesheet" href="/sass/style.sass" integrity="" crossorigin="anonymous" media="screen">



 

<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Didact+Gothic">

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="关于*和**运算符"/>
<meta name="twitter:description" content="最近了解到*和**运算符的用法，特此小记。"/>

<meta property="og:title" content="关于*和**运算符" />
<meta property="og:description" content="最近了解到*和**运算符的用法，特此小记。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://drapor.me/posts/180319_star_operator/" />
<meta property="article:published_time" content="2018-03-19T00:00:00+00:00" />
<meta property="article:modified_time" content="2018-03-19T00:00:00+00:00" />



    

    
    
    
    <title>
        
        关于*和**运算符
        
    </title>
    <style>
        #container .reply-content {
    	    margin-bottom: 10px;
            margin-top: 8px;
            color: #ddd;
        }
    </style>
</head>

<body>
    <div class="wrap">
        <div class="section" id="title">关于*和**运算符</div>

        
<div class="section" id="content">
    Mon Mar 19, 2018
    
    <div class="tag-container">
        
        <span class="tag">
            <a href="https://drapor.me/tags/python">
                #Python
            </a>
        </span>
        
    </div>
    
    <hr/>
    <p>最近了解到*和**运算符的用法，特此小记。</p>
<p>最开始遇到的情形是这样的：我从另一个地方得到了一个tuple a：<br>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">a <span style="color:#ff79c6">=</span> (<span style="color:#bd93f9">1</span>,<span style="color:#bd93f9">2</span>)</code></pre></div></p>
<p>想把这个tuple里的值作为另一个函数f的参数传给它，理论上完全可以用[]把每个值取出来再一个一个传给函数：
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#ff79c6">def</span> <span style="color:#50fa7b">f</span>(x, y):
    <span style="color:#ff79c6">return</span> x <span style="color:#ff79c6">+</span> y
f(a[<span style="color:#bd93f9">0</span>], a[<span style="color:#bd93f9">1</span>])</code></pre></div></p>
<p>但这样写也太蠢了，而且当这里参数的个数不是两个而是很多的时候，这样写也太麻烦了。Google一番之后了解到有*运算符这种神奇的东西，有了它，上面的写法可以简化为：
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">f(<span style="color:#ff79c6">*</span>a)</code></pre></div></p>
<p>在<a href="https://docs.python.org/3/tutorial/controlflow.html#unpacking-argument-lists">官方文档</a>中也有相关的说明：</p>
<blockquote>
<p><strong>4.7.4. Unpacking Argument Lists</strong></p>
<p>The reverse situation occurs when the arguments are already in a list or tuple but need to be unpacked for a function call requiring separate positional arguments. For instance, the built-in range() function expects separate start and stop arguments. If they are not available separately, write the function call with the *-operator to unpack the arguments out of a list or tuple:</p>
</blockquote>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#ff79c6">&gt;&gt;&gt;</span> <span style="color:#8be9fd;font-style:italic">list</span>(<span style="color:#8be9fd;font-style:italic">range</span>(<span style="color:#bd93f9">3</span>, <span style="color:#bd93f9">6</span>))            <span style="color:#6272a4"># normal call with separate arguments</span>
<span style="color:#ff79c6">&gt;&gt;&gt;</span> [<span style="color:#bd93f9">3</span>, <span style="color:#bd93f9">4</span>, <span style="color:#bd93f9">5</span>]  
<span style="color:#ff79c6">&gt;&gt;&gt;</span> args <span style="color:#ff79c6">=</span> [<span style="color:#bd93f9">3</span>, <span style="color:#bd93f9">6</span>]
<span style="color:#ff79c6">&gt;&gt;&gt;</span> <span style="color:#8be9fd;font-style:italic">list</span>(<span style="color:#8be9fd;font-style:italic">range</span>(\<span style="color:#ff79c6">*</span>args))            <span style="color:#6272a4"># call with arguments unpacked from a list</span>
<span style="color:#ff79c6">&gt;&gt;&gt;</span> [<span style="color:#bd93f9">3</span>, <span style="color:#bd93f9">4</span>, <span style="color:#bd93f9">5</span>]   </code></pre></div>
<p>文档中还提了**的用法：
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#ff79c6">&gt;&gt;&gt;</span> <span style="color:#ff79c6">def</span> <span style="color:#50fa7b">parrot</span>(voltage, state<span style="color:#ff79c6">=</span><span style="color:#f1fa8c">&#39;a stiff&#39;</span>, action<span style="color:#ff79c6">=</span><span style="color:#f1fa8c">&#39;voom&#39;</span>):
<span style="color:#ff79c6">&gt;&gt;&gt;</span> <span style="color:#ff79c6">...</span>     <span style="color:#ff79c6">print</span>(<span style="color:#f1fa8c">&#34;-- This parrot wouldn&#39;t&#34;</span>, action, end<span style="color:#ff79c6">=</span><span style="color:#f1fa8c">&#39; &#39;</span>)
<span style="color:#ff79c6">&gt;&gt;&gt;</span> <span style="color:#ff79c6">...</span>     <span style="color:#ff79c6">print</span>(<span style="color:#f1fa8c">&#34;if you put&#34;</span>, voltage, <span style="color:#f1fa8c">&#34;volts through it.&#34;</span>, end<span style="color:#ff79c6">=</span><span style="color:#f1fa8c">&#39; &#39;</span>)
<span style="color:#ff79c6">&gt;&gt;&gt;</span> <span style="color:#ff79c6">...</span>     <span style="color:#ff79c6">print</span>(<span style="color:#f1fa8c">&#34;E&#39;s&#34;</span>, state, <span style="color:#f1fa8c">&#34;!&#34;</span>)
<span style="color:#ff79c6">&gt;&gt;&gt;</span> <span style="color:#ff79c6">...</span>
<span style="color:#ff79c6">&gt;&gt;&gt;</span> d <span style="color:#ff79c6">=</span> {<span style="color:#f1fa8c">&#34;voltage&#34;</span>: <span style="color:#f1fa8c">&#34;four million&#34;</span>, <span style="color:#f1fa8c">&#34;state&#34;</span>: <span style="color:#f1fa8c">&#34;bleedin&#39; demised&#34;</span>, <span style="color:#f1fa8c">&#34;action&#34;</span>: <span style="color:#f1fa8c">&#34;VOOM&#34;</span>}
<span style="color:#ff79c6">&gt;&gt;&gt;</span> parrot(<span style="color:#ff79c6">**</span>d)
<span style="color:#ff79c6">&gt;&gt;&gt;</span> <span style="color:#ff79c6">--</span> This parrot wouldn<span style="color:#f1fa8c">&#39;t VOOM if you put four million volts through it. E&#39;</span>s bleedin<span style="color:#f1fa8c">&#39; demised !</span></code></pre></div></p>
<p>在自己尝试的过程中也发现了两个有意思的用法：
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#ff79c6">&gt;&gt;&gt;</span> a <span style="color:#ff79c6">=</span> [<span style="color:#bd93f9">1</span>,<span style="color:#bd93f9">2</span>,<span style="color:#bd93f9">3</span>]
<span style="color:#ff79c6">&gt;&gt;&gt;</span> <span style="color:#ff79c6">print</span>(a)
<span style="color:#ff79c6">&gt;&gt;&gt;</span> [<span style="color:#bd93f9">1</span>, <span style="color:#bd93f9">2</span>, <span style="color:#bd93f9">3</span>]
<span style="color:#ff79c6">&gt;&gt;&gt;</span> <span style="color:#ff79c6">print</span>(<span style="color:#ff79c6">*</span>a)
<span style="color:#ff79c6">&gt;&gt;&gt;</span> <span style="color:#bd93f9">1</span> <span style="color:#bd93f9">2</span> <span style="color:#bd93f9">3</span></code></pre></div></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#ff79c6">&gt;&gt;&gt;</span> a <span style="color:#ff79c6">=</span> [<span style="color:#bd93f9">1</span>,<span style="color:#bd93f9">2</span>]
<span style="color:#ff79c6">&gt;&gt;&gt;</span> [<span style="color:#bd93f9">4</span>,<span style="color:#bd93f9">5</span>,a,<span style="color:#bd93f9">7</span>,<span style="color:#bd93f9">8</span>]
<span style="color:#ff79c6">&gt;&gt;&gt;</span> [<span style="color:#bd93f9">4</span>, <span style="color:#bd93f9">5</span>, [<span style="color:#bd93f9">1</span>, <span style="color:#bd93f9">2</span>], <span style="color:#bd93f9">7</span>, <span style="color:#bd93f9">8</span>]
<span style="color:#ff79c6">&gt;&gt;&gt;</span> [<span style="color:#bd93f9">4</span>,<span style="color:#bd93f9">5</span>,<span style="color:#ff79c6">*</span>a,<span style="color:#bd93f9">7</span>,<span style="color:#bd93f9">8</span>]
<span style="color:#ff79c6">&gt;&gt;&gt;</span> [<span style="color:#bd93f9">4</span>, <span style="color:#bd93f9">5</span>, <span style="color:#bd93f9">1</span>, <span style="color:#bd93f9">2</span>, <span style="color:#bd93f9">7</span>, <span style="color:#bd93f9">8</span>]</code></pre></div>
</div>


        
<div class="section bottom-menu">
    
<hr />
<p>


    
        <a href="/posts">back</a>
        
            &#183;
        
    

    
        
            <a href="/posts">Posts</a>
        
    
    
        
            &#183; 
            <a href="/scribble">Scribbles</a>
        
            &#183; 
            <a href="https://o3o.ca/@drapor">Feed</a>
        
            &#183; 
            <a href="/about">About Me</a>
        
    
    &#183; 
    <a href="https://drapor.me">
        
    </a>

</p>
</div>



        <div class="section footer">Copyright © 2020 Gabriel Drapor, All Rights Reserved.</div>


	
     <div id="gitalk-container"></div>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
<script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>
<script>
  var gittalk = new Gitalk({
      clientID: 'b33898060f51f3637cdb',
      clientSecret: '264aa9f9ab82c827765c14f5df4d8195bfd26a0d',
      repo: 'gabrieldrapor.github.io',
      owner: 'GabrielDrapor',
      admin: ['GabrielDrapor'],
      id: location.pathname,      
      distractionFreeMode: false  
  })
  gittalk.render("gitalk-container")
</script>
</body>

</html>
